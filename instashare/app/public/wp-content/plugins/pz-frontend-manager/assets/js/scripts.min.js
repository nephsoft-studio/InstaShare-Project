jQuery(document).ready(function(e){function a(a){a.files&&a.files[0]&&e(".dashboard-pp").css("background-image",'url("'+window.URL.createObjectURL(a.files[0])+'")')}function t(e){return number=e,number=number||0,number}jQuery(window).on("load",function(){jQuery("#pzfm-loader").fadeOut()}),e(".media-sidebar input#attachment-details-alt-text, .media-sidebar textarea").removeAttr("readonly"),e("body").delegate("#pzfm-enable-user-password","change",function(a){e("#pzfm-enable-user-password").is(":checked")?e(".pzfm-password-fields").show():e(".pzfm-password-fields").hide()}),e("body").delegate(".pzfm-settings-nav .nav-item","click",function(a){a.preventDefault(),e(this).each(function(){var a=e(this).attr("data-tab");if("general-settings"==a)var t="";else t=a;e(".tab-page").val(t)})}),e("body").delegate(".gcp-get-years","change",function(a){a.preventDefault(),function(a){e.ajax({url:pzfmAjaxhandler.ajaxurl,type:"post",data:{action:"gbsdf_ajax_years",year:a},beforeSend:function(){e(".gcp-cards-wrap").append('<div class="spinner-border text-success"></div>'),e(".gcp-cards-wrap").addClass("add-loading")},success:function(a){var t=(a=JSON.parse(a)).gbsdf_get_month_sale;if(e("#gbsdfchartmaingraph").hasClass("chart-wrap")){var i=document.getElementById("mygraph").getContext("2d");new Chart(i,{type:"bar",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fontColor:"#ffffff",datasets:[{label:"Current Sales",backgroundColor:"#ffffff",fontColor:"#ffffff",data:t}]},options:{responsive:!0,maintainAspectRatio:!1,barValueSpacing:20,scaleFontColor:"#ffffff",legend:{labels:{fontColor:"#ffffff"}},scales:{yAxes:[{ticks:{min:0,fontColor:"#ffffff"},gridLines:{color:"#ffffff"}}],xAxes:[{ticks:{min:0,fontColor:"#ffffff"},gridLines:{color:"#ffffff"}}]}}})}e(".gcp-cards-wrap .spinner-border").remove(),e(".gcp-cards-wrap").removeClass("add-loading")}})}(e(this).val())}),e(".pzfm-select-field").select2({placeholder:"-- Select --"}),e(".pzfm-select-tags-field").select2({tags:!0}),e("input.disabled, select.disabled ").attr("disabled",!0),e("#bulk-select-all").click(function(){e(this).is(":checked")?e(".bulk-select-checkbox").prop("checked",!0):e(".bulk-select-checkbox").prop("checked",!1)}),e(".pzfm-repeater").repeater({show:function(){e(this).slideDown(),e(".select2-container").remove(),e("select").select2({width:"100%",placeholder:"-- Select Product Here --",allowClear:!0})},hide:function(a){var i,r=e(this).find(".product-quantity").val(),l=e(this).find(".product-item-selection option:selected").attr("data-price");i=parseFloat(r)*parseFloat(l);var o=0;e(".product-item").each(function(){var a=e(this).find(".product-quantity").val(),i=e(this).find(".product-item-selection option:selected").attr("data-price");o+=parseFloat(a)*parseFloat(i),e(this).find(".product-sub-total").val(t(o).toFixed(2))});var n=o-i;e(".pzfm-repeater .order-total").val(t(n).toFixed(2)),e(this).slideUp(a)}}),e("body").delegate(".product-quantity","click keyup",function(){var a=0;e(".product-item").each(function(){var i=e(this).find(".product-quantity").val(),r=e(this).find(".product-item-selection option:selected").attr("data-price");productsubTotal=parseFloat(i)*parseFloat(r),a+=parseFloat(i)*parseFloat(r),e(this).find(".product-sub-total").val(t(productsubTotal).toFixed(2))}),e(".pzfm-repeater .order-total").val(t(a).toFixed(2))}),e("body").delegate(".product-item-selection","change",function(){var a=0,i=e(this).find("option:selected").attr("data-price");e(this).parent().parent().find(".product-price").val(i),e(".product-item").each(function(){var i=e(this).find(".product-quantity").val(),r=e(this).find(".product-item-selection option:selected").attr("data-price");productsubTotal=parseFloat(i)*parseFloat(r),a+=parseFloat(i)*parseFloat(r),e(this).find(".product-sub-total").val(t(productsubTotal).toFixed(2))}),e(".pzfm-repeater .order-total").val(t(a).toFixed(2))}),e(".pzfm-ac-repeater").repeater({show:function(){e(this).slideDown()},hide:function(a){var i,r=0,l=e(this).find(".charge-quantity").val(),o=e(this).find(".charge-amount").val();i=parseFloat(l)*parseFloat(o),e(".charges-item").each(function(){var a=e(this).find(".charge-quantity").val(),i=e(this).find(".charge-amount").val();chargesubTotal=parseFloat(a)*parseFloat(i),r+=parseFloat(a)*parseFloat(i),e(this).find(".charge-sub-total").val(t(chargesubTotal).toFixed(2))});var n=r-i;e(".pzfm-ac-repeater .charge-total").val(t(n).toFixed(2)),e(this).slideUp(a)}}),e(".pzfm-gallery").repeater({show:function(){e(this).slideDown()},hide:function(a){e(this).slideUp(a)}}),e("body").delegate(".charge-quantity, .charge-amount","click keyup",function(){var a=0;e(".charges-item").each(function(){var i=e(this).find(".charge-quantity").val(),r=e(this).find(".charge-amount").val();chargesubTotal=parseFloat(i)*parseFloat(r),a+=parseFloat(i)*parseFloat(r),e(this).find(".charge-sub-total").val(t(chargesubTotal).toFixed(2))}),e(".pzfm-ac-repeater .charge-total").val(t(a).toFixed(2))}),e(".dashboard-pp").click(function(a){a.stopPropagation(),e("#pzfm-imageUpload").get(0).click()}),e(".dashboard-pc").click(function(a){a.stopPropagation(),e("#pzfm-imageUploadCover").get(0).click()}),e("#pzfm-imageUpload").change(function(){a(this)}),e("#pzfm-imageUploadCover").change(function(){var a;(a=this).files&&a.files[0]&&e(".dashboard-pc").css("background-image",'url("'+window.URL.createObjectURL(a.files[0])+'")')}),e("#pzfm-imageUpload").change(function(){a(this)}),e("#personal_to_billing").change(function(){this.checked?e("#_billing_first_name, #_billing_last_name, #_billing_email, #_billing_phone").attr("readonly",!0):e("#_billing_first_name, #_billing_last_name, #_billing_email, #_billing_phone").attr("readonly",!1)}),e(".login-page #confirm_pass").keyup(function(){var a=e(this),t=a.val(),i=e(".login-page #reg_pass").val();a.parent().parent().find("label .pzfm-reg-error-message").remove(),a.parent().parent().removeClass("pzfm-reg-error"),a.parent().parent().parent().find('input[type="submit"]').prop("disabled",!1),t!==i&&t.length>0?(a.focus(),a.parent().parent().addClass("pzfm-reg-error"),a.parent().parent().find("label").append(' <span class="pzfm-reg-error-message"> - Password doesn\'t match</span>'),a.parents().parent().eq(3).find('input[type="submit"]').prop("disabled",!0)):a.parents().parent().eq(3).find('input[type="submit"]').prop("disabled",!1)}),e("input[type='password']").parent().css("position","relative"),e("input[type='password']").after('<i class="pzfm-pass-icon fa fa-eye-slash" aria-hidden="true"></i>'),e(".pzfm-pass-icon").on("click",function(a){a.preventDefault();var t=e(this).parent().children("input");t.attr("type");"password"===t.attr("type")?(t.attr("type","text"),e(this).addClass("fa-eye").removeClass("fa-eye-slash")):(t.attr("type","password"),e(this).addClass("fa-eye-slash").removeClass("fa-eye"))}),window.history.replaceState&&window.history.replaceState(null,null,window.location.href),e("body").delegate(".remove-image","click",function(a){a.preventDefault(),e(".upload-image").attr("src",e("#default-product-image").val()),e(".upload-product-holder, .upload-post-holder, .upload-slider-holder, .upload-image-holder").val("")}),e("body").on("click",".product-image-wrapper, .post-image-wrapper, .slider-image-wrapper, .gallery-image-wrapper, .image-wrapper",function(a){e(document).ajaxComplete(function(){e(".attachment-preview").click(function(){setTimeout(function(){e(".media-modal-content").find(".media-sidebar input#attachment-details-alt-text, .media-sidebar textarea").removeAttr("readonly")},1e3)})}),a.preventDefault();var t,i=e(this).parent(),r=i.find(".upload-product-holder, .upload-post-holder, .upload-slider-holder, .upload-image-holder").attr("name"),l=i.find('input[name="'+r+'"]');t?t.open():((t=wp.media.frames.mediaUploader=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:!1,title:"Select Images",library:{type:"image"},button:{text:"Insert selection"}})).on("select",function(){e(document).ajaxComplete(function(){e(".attachment-preview").click(function(){e(".media-sidebar input#attachment-details-alt-text, .media-sidebar textarea").removeAttr("readonly")})});var a=t.state().get("selection").first().toJSON();e("#image-preview").attr("src",a.url).css("width","auto"),e(".product-image-wrapper, .post-image-wrapper, .slider-image-wrapper, .gallery-image-wrapper, .image-wrapper").find(l).parent().find("img").attr("src",a.url),e(".product-image-wrapper, .post-image-wrapper, .slider-image-wrapper, .gallery-image-wrapper, .image-wrapper").find(l).val(a.id),e(".product-image-wrapper, .post-image-wrapper, .slider-image-wrapper, .gallery-image-wrapper, .image-wrapper").find(i).find("#remove-background").css("display","inline-block")}),t.open())}),e("#pzfm-body-wrap").hasClass("pzfm-dashboard-wrap")&&e('[data-toggle="tooltip"]').tooltip(),e("#pzfm-slider-wrap").hasClass("login-sldr-mode")&&e(".login-sldr-mode").slick({accessibility:!1,dots:!1,infinite:!0,speed:300,slidesToShow:1,adaptiveHeight:!0,autoplay:!0,autoplaySpeed:7e3,arrows:!1,fade:!1}),e(".anncemnt-sldr-mode").slick({accessibility:!1,fade:!0,dots:!0,infinite:!0,speed:300,slidesToShow:1,adaptiveHeight:!1,autoplay:!0,autoplaySpeed:3500,arrows:!1}),e(".anncment-img").each(function(a,t){a>4&&e(this).hide()}),e("body").delegate("#sidebarToggle","click",function(a){a.preventDefault(),e("ul#accordionSidebar li span").toggle()}),e(window).width()<480&&"body".removeClass("sidebar-toggled"),e("#color-picker").spectrum({type:"component",togglePaletteOnly:!0,hideAfterPaletteSelect:!0}),e("#personal_to_billing").click(function(){e(this).is(":checked")?(e("#_billing_first_name").val(e("#first_name").val()),e("#_billing_last_name").val(e("#last_name").val()),e("#_billing_email").val(e("#email").val()),e("#_billing_phone").val(e("#phone").val())):(e("#_billing_first_name").val(e("").val()),e("#_billing_last_name").val(e("").val()),e("#_billing_email").val(e("").val()),e("#_billing_phone").val(e("").val()))}),0!=e("#personal_to_billing").length&&e("#personal_to_billing:checked")&&(e("#_billing_first_name").attr("readonly","readonly"),e("#_billing_last_name").attr("readonly","readonly"),e("#_billing_email").attr("readonly","readonly"),e("#_billing_phone").attr("readonly","readonly")),e("body").delegate(".pzfm-copy","click",function(a){a.preventDefault();var t=e(this).attr("data-url"),i=document.createElement("input");i.value=t,document.body.appendChild(i),i.select(),document.execCommand("copy"),i.remove()});var i=e("#accordionSidebar .collapse .nav-item.active").parent().attr("id");e("#"+i).addClass("show")});